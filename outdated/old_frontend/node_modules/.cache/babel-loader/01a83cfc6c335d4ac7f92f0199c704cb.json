{"ast":null,"code":"var _jsxFileName = \"/Users/faizarali/Desktop/corona-cards/src/containers/Register.js\";\nimport React, { Component } from 'react';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport AppBar from 'material-ui/AppBar';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TextField from 'material-ui/TextField';\nimport axios from 'axios';\nimport Login from './Login';\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      first_name: '',\n      last_name: '',\n      email: '',\n      password: ''\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    console.log(\"nextProps\", nextProps);\n  }\n\n  handleClick(event, role) {\n    var apiBaseUrl = \"http://localhost:4000/api/\"; // console.log(\"values in register handler\",role);\n\n    var self = this; //To be done:check for empty values before hitting submit\n\n    if (this.state.first_name.length > 0 && this.state.last_name.length > 0 && this.state.email.length > 0 && this.state.password.length > 0) {\n      var payload = {\n        \"first_name\": this.state.first_name,\n        \"last_name\": this.state.last_name,\n        \"userid\": this.state.email,\n        \"password\": this.state.password,\n        \"role\": role\n      };\n      axios.post(apiBaseUrl + '/register', payload).then(function (response) {\n        console.log(response);\n\n        if (response.data.code === 200) {\n          //  console.log(\"registration successfull\");\n          var loginscreen = [];\n          loginscreen.push( /*#__PURE__*/React.createElement(Login, {\n            parentContext: this,\n            appContext: self.props.appContext,\n            role: role,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 27\n            }\n          }));\n          var loginmessage = \"Not Registered yet.Go to registration\";\n          self.props.parentContext.setState({\n            loginscreen: loginscreen,\n            loginmessage: loginmessage,\n            buttonLabel: \"Register\",\n            isLogin: true\n          });\n        } else {\n          console.log(\"some error ocurred\", response.data.code);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      alert(\"Input field value is missing\");\n    }\n  }\n\n  render() {\n    // console.log(\"props\",this.props);\n    var userhintText, userLabel;\n\n    if (this.props.role === \"student\") {\n      userhintText = \"Enter your Student Id\";\n      userLabel = \"Student Id\";\n    } else {\n      userhintText = \"Enter your Teacher Id\";\n      userLabel = \"Teacher Id\";\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(MuiThemeProvider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(AppBar, {\n      title: \"Register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      hintText: \"Enter your First Name\",\n      floatingLabelText: \"First Name\",\n      onChange: (event, newValue) => this.setState({\n        first_name: newValue\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      hintText: \"Enter your Last Name\",\n      floatingLabelText: \"Last Name\",\n      onChange: (event, newValue) => this.setState({\n        last_name: newValue\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      hintText: userhintText,\n      floatingLabelText: userLabel,\n      onChange: (event, newValue) => this.setState({\n        email: newValue\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"password\",\n      hintText: \"Enter your Password\",\n      floatingLabelText: \"Password\",\n      onChange: (event, newValue) => this.setState({\n        password: newValue\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(RaisedButton, {\n      label: \"Submit\",\n      primary: true,\n      style: style,\n      onClick: event => this.handleClick(event, this.props.role),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 12\n      }\n    }))));\n  }\n\n}\n\nconst style = {\n  margin: 15\n};\nexport default Register;","map":{"version":3,"sources":["/Users/faizarali/Desktop/corona-cards/src/containers/Register.js"],"names":["React","Component","MuiThemeProvider","AppBar","RaisedButton","TextField","axios","Login","Register","constructor","props","state","first_name","last_name","email","password","componentWillReceiveProps","nextProps","console","log","handleClick","event","role","apiBaseUrl","self","length","payload","post","then","response","data","code","loginscreen","push","appContext","loginmessage","parentContext","setState","buttonLabel","isLogin","catch","error","alert","render","userhintText","userLabel","newValue","style","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport AppBar from 'material-ui/AppBar';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TextField from 'material-ui/TextField';\nimport axios from 'axios';\nimport Login from './Login';\n\nclass Register extends Component {\n  constructor(props){\n    super(props);\n    this.state={\n      first_name:'',\n      last_name:'',\n      email:'',\n      password:''\n    }\n  }\n  componentWillReceiveProps(nextProps){\n    console.log(\"nextProps\",nextProps);\n  }\n  handleClick(event,role){\n    var apiBaseUrl = \"http://localhost:4000/api/\";\n    // console.log(\"values in register handler\",role);\n    var self = this;\n    //To be done:check for empty values before hitting submit\n    if(this.state.first_name.length>0 && this.state.last_name.length>0 && this.state.email.length>0 && this.state.password.length>0){\n      var payload={\n      \"first_name\": this.state.first_name,\n      \"last_name\":this.state.last_name,\n      \"userid\":this.state.email,\n      \"password\":this.state.password,\n      \"role\":role\n      }\n      axios.post(apiBaseUrl+'/register', payload)\n     .then(function (response) {\n       console.log(response);\n       if(response.data.code === 200){\n        //  console.log(\"registration successfull\");\n         var loginscreen=[];\n         loginscreen.push(<Login parentContext={this} appContext={self.props.appContext} role={role}/>);\n         var loginmessage = \"Not Registered yet.Go to registration\";\n         self.props.parentContext.setState({loginscreen:loginscreen,\n         loginmessage:loginmessage,\n         buttonLabel:\"Register\",\n         isLogin:true\n          });\n       }\n       else{\n         console.log(\"some error ocurred\",response.data.code);\n       }\n     })\n     .catch(function (error) {\n       console.log(error);\n     });\n    }\n    else{\n      alert(\"Input field value is missing\");\n    }\n\n  }\n  render() {\n    // console.log(\"props\",this.props);\n    var userhintText,userLabel;\n    if(this.props.role === \"student\"){\n      userhintText=\"Enter your Student Id\";\n      userLabel=\"Student Id\";\n    }\n    else{\n      userhintText=\"Enter your Teacher Id\";\n      userLabel=\"Teacher Id\";\n    }\n    return (\n      <div>\n        <MuiThemeProvider>\n          <div>\n          <AppBar\n             title=\"Register\"\n           />\n           <TextField\n             hintText=\"Enter your First Name\"\n             floatingLabelText=\"First Name\"\n             onChange = {(event,newValue) => this.setState({first_name:newValue})}\n             />\n           <br/>\n           <TextField\n             hintText=\"Enter your Last Name\"\n             floatingLabelText=\"Last Name\"\n             onChange = {(event,newValue) => this.setState({last_name:newValue})}\n             />\n           <br/>\n           <TextField\n             hintText={userhintText}\n             floatingLabelText={userLabel}\n             onChange = {(event,newValue) => this.setState({email:newValue})}\n             />\n           <br/>\n           <TextField\n             type = \"password\"\n             hintText=\"Enter your Password\"\n             floatingLabelText=\"Password\"\n             onChange = {(event,newValue) => this.setState({password:newValue})}\n             />\n           <br/>\n           <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event,this.props.role)}/>\n          </div>\n         </MuiThemeProvider>\n      </div>\n    );\n  }\n}\n\nconst style = {\n  margin: 15,\n};\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}